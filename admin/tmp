<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../end_user/css/reset.css" />
    <link rel="stylesheet" href="./admin.css" />
    <title>Admin</title>
  </head>
  <body>
    <div class="admin-body">
      <!-- sidebar -->
      <aside class="sidebar">
        <header>
          <div class="logo-box">
            <a href="#" class="logo">
              <img src="../assets/1760878542405.png" alt="logo" />
            </a>
            <h2 class="text">Goes<span>Up</span></h2>
          </div>
          <span class="material-icons-sharp toggle">arrow_forward_ios</span>
        </header>

        <ul class="menu">
          <!-- Dashboard -->
          <li class="menu-item active">
            <a href="#">
              <span class="material-icons-sharp">dashboard</span>
              <span class="text">B·∫£ng ƒëi·ªÅu khi·ªÉn</span>
            </a>
          </li>

          <!-- Ng∆∞·ªùi d√πng & Kh√°ch h√†ng -->
          <li class="menu-item has-dropdown">
            <button class="menu-title">
              <span class="material-icons-sharp">group</span>
              <span class="text">Ng∆∞·ªùi d√πng</span>
              <span class="material-icons-sharp dropdown-icon"
                >expand_more</span
              >
            </button>
            <ul class="submenu">
              <div>
                <li><a href="#">Danh s√°ch kh√°ch h√†ng</a></li>
                <li><a href="#">Reset m·∫≠t kh·∫©u</a></li>
                <li><a href="#">Kh√≥a / M·ªü kh√≥a t√†i kho·∫£n</a></li>
              </div>
            </ul>
          </li>

          <!-- S·∫£n ph·∫©m -->
          <li class="menu-item has-dropdown">
            <button class="menu-title">
              <span class="material-icons-sharp">inventory_2</span>
              <span class="text">S·∫£n ph·∫©m</span>
              <span class="material-icons-sharp dropdown-icon"
                >expand_more</span
              >
            </button>
            <ul class="submenu">
              <div>
                <li><a href="#">Lo·∫°i s·∫£n ph·∫©m</a></li>
                <li><a href="#">Danh m·ª•c s·∫£n ph·∫©m</a></li>
                <li><a href="#">Danh s√°ch s·∫£n ph·∫©m</a></li>
              </div>
            </ul>
          </li>

          <!-- Kho h√†ng / Nh·∫≠p h√†ng -->
          <li class="menu-item has-dropdown">
            <button class="menu-title">
              <span class="material-icons-sharp">local_shipping</span>
              <span class="text">Kho h√†ng</span>
              <span class="material-icons-sharp dropdown-icon"
                >expand_more</span
              >
            </button>
            <ul class="submenu">
              <div>
                <li><a href="#">Phi·∫øu nh·∫≠p h√†ng</a></li>
                <li><a href="#">T·∫°o phi·∫øu nh·∫≠p</a></li>
                <li><a href="#">S·ª≠a / Ho√†n th√†nh phi·∫øu</a></li>
              </div>
            </ul>
          </li>

          <!-- Gi√° b√°n -->
          <li class="menu-item has-dropdown">
            <button class="menu-title">
              <span class="material-icons-sharp">attach_money</span>
              <span class="text">Gi√° b√°n</span>
              <span class="material-icons-sharp dropdown-icon"
                >expand_more</span
              >
            </button>
            <ul class="submenu">
              <div>
                <li><a href="#">T·ª∑ l·ªá l·ª£i nhu·∫≠n</a></li>
                <li><a href="#">Tra c·ª©u gi√° v·ªën</a></li>
                <li><a href="#">Gi√° b√°n theo s·∫£n ph·∫©m</a></li>
              </div>
            </ul>
          </li>

          <!-- ƒê∆°n h√†ng -->
          <li class="menu-item has-dropdown">
            <button class="menu-title">
              <span class="material-icons-sharp">receipt_long</span>
              <span class="text">ƒê∆°n h√†ng</span>
              <span class="material-icons-sharp dropdown-icon"
                >expand_more</span
              >
            </button>
            <ul class="submenu">
              <div>
                <li><a href="#">Danh s√°ch ƒë∆°n h√†ng</a></li>
                <li><a href="#">Theo t√¨nh tr·∫°ng ƒë∆°n</a></li>
                <li><a href="#">Theo ng√†y ƒë·∫∑t</a></li>
              </div>
            </ul>
          </li>

          <!-- T·ªìn kho -->
          <li class="menu-item has-dropdown">
            <button class="menu-title">
              <span class="material-icons-sharp">inventory</span>
              <span class="text">T·ªìn kho</span>
              <span class="material-icons-sharp dropdown-icon"
                >expand_more</span
              >
            </button>
            <ul class="submenu">
              <div>
                <li><a href="#">Tra c·ª©u t·ªìn</a></li>
                <li><a href="#">S·∫£n ph·∫©m s·∫Øp h·∫øt h√†ng</a></li>
                <li><a href="#">B√°o c√°o nh·∫≠p ‚Äì xu·∫•t ‚Äì t·ªìn</a></li>
              </div>
            </ul>
          </li>

          <!-- Th·ªëng k√™ -->
          <li class="menu-item has-dropdown">
            <button class="menu-title">
              <span class="material-icons-sharp">bar_chart</span>
              <span class="text">Th·ªëng k√™</span>
              <span class="material-icons-sharp dropdown-icon"
                >expand_more</span
              >
            </button>
            <ul class="submenu">
              <div>
                <li><a href="#">Doanh thu th√°ng</a></li>
                <li><a href="#">S·∫£n ph·∫©m b√°n ch·∫°y</a></li>
                <li><a href="#">Kh√°ch h√†ng th√¢n thi·∫øt</a></li>
              </div>
            </ul>
          </li>

          <!-- ƒêƒÉng xu·∫•t -->
          <li class="menu-item log-out">
            <a href="#">
              <span class="material-icons-sharp">logout</span>
              <span class="text">ƒêƒÉng xu·∫•t</span>
            </a>
          </li>
        </ul>
      </aside>
      <main class="main">
        <div class="admin-header">
          <h1>B·∫£ng ƒëi·ªÅu khi·ªÉn</h1>
          <div class="header-actions">
            <input type="text" placeholder="T√¨m ki·∫øm..." />
            <div class="icons">
              <span class="material-icons-sharp">notifications</span>
              <span class="material-icons-sharp">settings</span>
              <img
                src="./assets/avatar.jpg"
                alt="Admin Avatar"
                class="avatar"
              />
            </div>
          </div>
        </div>
        <section id="dashboard" class="page active dashboard">
          <!-- Cards th·ªëng k√™ -->
          <section class="stats-cards">
            <div class="card">
              <div class="card-info">
                <h3>Doanh thu th√°ng</h3>
                <p>75,000,000‚Ç´</p>
              </div>
              <span class="material-icons-sharp">attach_money</span>
            </div>

            <div class="card">
              <div class="card-info">
                <h3>ƒê∆°n h√†ng m·ªõi</h3>
                <p>124</p>
              </div>
              <span class="material-icons-sharp">receipt_long</span>
            </div>

            <div class="card">
              <div class="card-info">
                <h3>Kh√°ch h√†ng</h3>
                <p>980</p>
              </div>
              <span class="material-icons-sharp">group</span>
            </div>

            <div class="card">
              <div class="card-info">
                <h3>S·∫£n ph·∫©m t·ªìn</h3>
                <p>245</p>
              </div>
              <span class="material-icons-sharp">inventory_2</span>
            </div>
          </section>

          <!-- Bi·ªÉu ƒë·ªì -->
          <section class="charts procgress-bar">
            <div class="chart">
              <h2>Doanh thu theo th√°ng</h2>
              <div class="progress-item">
                <span>Th√°ng 1</span>
                <div class="bar"><div style="width: 65%"></div></div>
                <span class="percent">65 tri·ªáu ‚Ç´</span>
              </div>
              <div class="progress-item">
                <span>Th√°ng 2</span>
                <div class="bar"><div style="width: 80%"></div></div>
                <span class="percent">80 tri·ªáu ‚Ç´</span>
              </div>
              <div class="progress-item">
                <span>Th√°ng 3</span>
                <div class="bar"><div style="width: 90%"></div></div>
                <span class="percent">90 tri·ªáu ‚Ç´</span>
              </div>
            </div>

            <div class="chart">
              <h2>T·ª∑ l·ªá s·∫£n ph·∫©m b√°n</h2>
              <div class="progress-item">
                <span>√Åo</span>
                <div class="bar"><div style="width: 45%"></div></div>
                <span class="percent">45%</span>
              </div>
              <div class="progress-item">
                <span>Qu·∫ßn</span>
                <div class="bar"><div style="width: 35%"></div></div>
                <span class="percent">35%</span>
              </div>
              <div class="progress-item">
                <span>Ph·ª• ki·ªán</span>
                <div class="bar"><div style="width: 20%"></div></div>
                <span class="percent">20%</span>
              </div>
            </div>
          </section>

          <!-- Sparkline Charts -->
          <section class="charts sparkline-section">
            <div class="sparkline-card">
              <h2>Doanh thu theo qu√Ω</h2>
              <div class="sparkline">
                <div style="height: 60%"></div>
                <div style="height: 80%"></div>
                <div style="height: 90%"></div>
                <div style="height: 70%"></div>
              </div>
              <div class="labels">
                <span>Q1</span><span>Q2</span><span>Q3</span><span>Q4</span>
              </div>
              <p class="chart-note">
                T·ªïng doanh thu nƒÉm nay: <b>320 tri·ªáu VND</b>
              </p>
            </div>

            <div class="sparkline-card">
              <h2>L∆∞·ª£t Truy C·∫≠p</h2>
              <div class="sparkline">
                <div style="height: 60%"></div>
                <div style="height: 75%"></div>
                <div style="height: 90%"></div>
                <div style="height: 50%"></div>
                <div style="height: 70%"></div>
                <div style="height: 40%"></div>
                <div style="height: 80%"></div>
              </div>
              <div class="labels">
                <span>T2</span><span>T3</span><span>T4</span><span>T5</span
                ><span>T6</span><span>T7</span><span>CN</span>
              </div>
            </div>
          </section>
        </section>
        <section id="analysis" class="page analysis">
          <div class="analysis-header">
            <h2>Ph√¢n t√≠ch ho·∫°t ƒë·ªông</h2>
            <select id="analysis-period">
              <option value="week">7 ng√†y qua</option>
              <option value="month">Th√°ng n√†y</option>
              <option value="year">NƒÉm nay</option>
            </select>
          </div>

          <div class="analysis-summary">
            <div class="analysis-card up">
              <h3>Doanh thu</h3>
              <p>72.5 tri·ªáu ‚Ç´</p>
              <span>+12% so v·ªõi tu·∫ßn tr∆∞·ªõc</span>
            </div>

            <div class="analysis-card down">
              <h3>L∆∞·ª£t truy c·∫≠p</h3>
              <p>8,430</p>
              <span>-5% so v·ªõi tu·∫ßn tr∆∞·ªõc</span>
            </div>

            <div class="analysis-card up">
              <h3>Kh√°ch h√†ng m·ªõi</h3>
              <p>248</p>
              <span>+8% so v·ªõi tu·∫ßn tr∆∞·ªõc</span>
            </div>
          </div>

          <div class="trend-table">
            <h3>Top danh m·ª•c b√°n ch·∫°y</h3>
            <table>
              <thead>
                <tr>
                  <th>Danh m·ª•c</th>
                  <th>S·ªë l∆∞·ª£ng b√°n</th>
                  <th>Doanh thu</th>
                  <th>TƒÉng tr∆∞·ªüng</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>√Åo s∆° mi</td>
                  <td>320</td>
                  <td>15.2 tri·ªáu ‚Ç´</td>
                  <td class="up">+10%</td>
                </tr>
                <tr>
                  <td>Qu·∫ßn jeans</td>
                  <td>280</td>
                  <td>12.7 tri·ªáu ‚Ç´</td>
                  <td class="up">+7%</td>
                </tr>
                <tr>
                  <td>Ph·ª• ki·ªán</td>
                  <td>190</td>
                  <td>6.8 tri·ªáu ‚Ç´</td>
                  <td class="down">-3%</td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- üü® B·∫£ng chi ti·∫øt ho·∫∑c ‚Äúinsight cards‚Äù -->
          <div class="trend-table">
            <h3>Hi·ªáu su·∫•t theo qu√Ω</h3>
            <table class="trend-table">
              <thead>
                <tr>
                  <th>Qu√Ω</th>
                  <th>Doanh thu</th>
                  <th>TƒÉng tr∆∞·ªüng</th>
                  <th>Kh√°ch h√†ng m·ªõi</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Q1</td>
                  <td>180 tri·ªáu ‚Ç´</td>
                  <td class="up">+9%</td>
                  <td>523</td>
                </tr>
                <tr>
                  <td>Q2</td>
                  <td>195 tri·ªáu ‚Ç´</td>
                  <td class="up">+8%</td>
                  <td>574</td>
                </tr>
                <tr>
                  <td>Q3</td>
                  <td>215 tri·ªáu ‚Ç´</td>
                  <td class="up">+10%</td>
                  <td>648</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <section class="page content category-management">
          <div class="content-header">
            <h1>Qu·∫£n l√Ω lo·∫°i s·∫£n ph·∫©m</h1>
            <div class="actions">
              <input
                type="text"
                id="searchType"
                placeholder="T√¨m lo·∫°i s·∫£n ph·∫©m..."
                class="search-box"
              />
              <button class="btn-add type-btn-add" id="openAddType">
                + Th√™m lo·∫°i
              </button>
            </div>
          </div>

          <section class="category-list">
            <table id="typeTable">
              <thead>
                <tr>
                  <th>M√£ lo·∫°i</th>
                  <th>T√™n lo·∫°i</th>
                  <th>M√¥ t·∫£</th>
                  <th>Thao t√°c</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>L001</td>
                  <td>√Åo thun</td>
                  <td>C√°c lo·∫°i √°o thun cotton, th·ªÉ thao...</td>
                  <td>
                    <button class="btn-edit">S·ª≠a</button>
                    <button class="btn-delete">X√≥a</button>
                  </td>
                </tr>
                <tr>
                  <td>L002</td>
                  <td>Qu·∫ßn jean</td>
                  <td>Jean nam n·ªØ c√°c lo·∫°i...</td>
                  <td>
                    <button class="btn-edit">S·ª≠a</button>
                    <button class="btn-delete">X√≥a</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </section>
        </section>

        <!-- Modal th√™m/s·ª≠a lo·∫°i -->
        <div class="modal-overlay" id="typeModal">
          <div class="modal">
            <h2 id="typeModalTitle">Th√™m lo·∫°i s·∫£n ph·∫©m</h2>
            <form id="typeForm">
              <div class="form-group">
                <label>M√£ lo·∫°i</label>
                <input type="text" id="typeCode" required />
              </div>
              <div class="form-group">
                <label>T√™n lo·∫°i</label>
                <input type="text" id="typeName" required />
              </div>
              <div class="form-group">
                <label>M√¥ t·∫£</label>
                <textarea id="typeDesc" rows="3"></textarea>
              </div>
              <div class="modal-actions">
                <button type="button" class="btn-cancel" id="typeCancel">
                  H·ªßy
                </button>
                <button type="submit" class="btn-save">L∆∞u</button>
              </div>
            </form>
          </div>
        </div>

        <section id="product" class="page content">
          <div class="content-header">
            <h1>Qu·∫£n l√Ω s·∫£n ph·∫©m</h1>
            <div class="actions">
              <input
                type="text"
                placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..."
                class="search-box"
                id="searchProduct"
              />
              <select class="filter" id="filterType">
                <option value="">T·∫•t c·∫£ lo·∫°i</option>
                <option value="√Åo thun">√Åo thun</option>
                <option value="Qu·∫ßn jean">Qu·∫ßn jean</option>
                <option value="Ph·ª• ki·ªán">Ph·ª• ki·ªán</option>
              </select>
              <button class="btn btn-add product-add-btn" id="openAddProduct">
                + Th√™m s·∫£n ph·∫©m
              </button>
            </div>
          </div>

          <section class="product-list">
            <table id="productTable">
              <thead>
                <tr>
                  <th>·∫¢nh</th>
                  <th>T√™n s·∫£n ph·∫©m</th>
                  <th>Lo·∫°i</th>
                  <th>Gi√° v·ªën</th>
                  <th>% l·ª£i nhu·∫≠n</th>
                  <th>Gi√° b√°n</th>
                  <th>T·ªìn kho</th>
                  <th>Tr·∫°ng th√°i</th>
                  <th>Thao t√°c</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </section>

          <section class="inventory-summary">
            <div class="summary-card">
              <h3>T·ªïng s·∫£n ph·∫©m trong kho</h3>
              <p id="totalProduct">0</p>
            </div>
            <div class="summary-card warning">
              <h3>S·∫Øp h·∫øt h√†ng</h3>
              <p id="lowStock">0 s·∫£n ph·∫©m</p>
            </div>
            <div class="summary-card danger">
              <h3>H·∫øt h√†ng</h3>
              <p id="outStock">0 s·∫£n ph·∫©m</p>
            </div>
          </section>
        </section>

        <!-- Popup th√™m/s·ª≠a s·∫£n ph·∫©m -->
        <div class="modal-overlay" id="productModal">
          <div class="modal">
            <h2 id="modalTitle">Th√™m s·∫£n ph·∫©m</h2>
            <div class="modal-box">
              <div class="pic-group">
                <div class="pic">
                  <img src="" alt="" class="pic-preview" />
                </div>
                <input type="file" id="productImage" />
              </div>

              <form id="productForm">
                <div class="form-group">
                  <label>T√™n s·∫£n ph·∫©m</label>
                  <input type="text" id="productName" required />
                </div>

                <div class="form-group">
                  <label>Lo·∫°i s·∫£n ph·∫©m</label>
                  <select id="productType" required>
                    <option value="">-- Ch·ªçn lo·∫°i --</option>
                  </select>
                </div>

                <div class="form-group">
                  <label>% L·ª£i nhu·∫≠n</label>
                  <input type="number" id="productProfit" required />
                </div>

                <!-- <div class="form-group">
                  <label>Gi√°</label>
                  <input type="number" id="productPrice" readonly />
                </div> -->

                <div class="form-group">
                  <label>S·ªë l∆∞·ª£ng</label>
                  <input type="number" id="productQuantity" min="0" required />
                </div>

                <div class="modal-actions">
                  <button type="button" class="btn-cancel" id="cancelModal">
                    H·ªßy
                  </button>
                  <button type="submit" class="btn-save">L∆∞u</button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <section id="warehouse" class="page content">
          <div class="content-header">
            <h1>Qu·∫£n l√Ω nh·∫≠p s·∫£n ph·∫©m</h1>
            <div class="actions">
              <input
                type="text"
                placeholder="T√¨m ki·∫øm phi·∫øu nh·∫≠p..."
                class="search-box"
                id="searchImport"
              />
              <button class="btn btn-add inventory-btn-add" id="openAddImport">
                + Th√™m phi·∫øu nh·∫≠p
              </button>
            </div>
          </div>

          <!-- Danh s√°ch phi·∫øu nh·∫≠p -->
          <section class="import-list product-list">
            <table id="importTable">
              <thead>
                <tr>
                  <th>T√™n S·∫£n Ph·∫©m</th>
                  <th>Ng√†y nh·∫≠p</th>
                  <th>Gi√° Nh·∫≠p</th>
                  <th>S·ªë L∆∞·ª£ng</th>
                  <th>T·ªïng gi√° tr·ªã</th>
                  <th>Tr·∫°ng th√°i</th>
                  <th>Thao t√°c</th>
                </tr>
              </thead>
              <tbody>
                <!-- JS render -->
              </tbody>
            </table>
          </section>
        </section>

        <!-- Popup th√™m/s·ª≠a phi·∫øu nh·∫≠p -->
        <div class="modal-overlay" id="importModal">
          <div class="modal" style="animation: slideUp 0.25s ease">
            <h2 id="importModalTitle">Th√™m phi·∫øu nh·∫≠p</h2>
            <form id="importForm">
              <div class="form-group">
                <label for="importDate">Ng√†y nh·∫≠p:</label>
                <input type="date" id="importDate" required />
              </div>

              <div id="productImportList" class="form-group">
                <!-- <div class="import-product-item">
                  <select class="import-product"></select>
                  <input
                    type="number"
                    placeholder="S·ªë l∆∞·ª£ng"
                    class="import-quantity"
                    min="1"
                  />
                  <input
                    type="number"
                    placeholder="Gi√° nh·∫≠p"
                    class="import-price"
                    min="0"
                  />
                </div> -->
              </div>

              <div class="modal-actions">
                <button type="button" id="cancelImport" class="btn-cancel">
                  H·ªßy
                </button>
                <button type="submit" class="btn-save">L∆∞u phi·∫øu nh·∫≠p</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Popup x√°c nh·∫≠n xo√° -->
        <div class="confirm-overlay" id="confirmDelete">
          <div class="confirm-box" style="animation: slideUp 0.25s ease">
            <h3>X√°c nh·∫≠n x√≥a</h3>
            <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a phi·∫øu nh·∫≠p n√†y kh√¥ng?</p>
            <div class="confirm-actions">
              <button class="btn-cancel" id="cancelDelete">H·ªßy</button>
              <button class="btn-save" id="confirmDeleteBtn">X√≥a</button>
            </div>
          </div>
        </div>
      </main>
    </div>
    <div class="confirm-overlay" id="confirmOverlay">
      <div class="confirm-box">
        <h3>X√°c nh·∫≠n</h3>
        <p>B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y?</p>
        <div class="confirm-actions">
          <button id="confirmCancel" class="btn-cancel">H·ªßy</button>
          <button id="confirmOk" class="btn-save">X√≥a</button>
        </div>
      </div>
    </div>
    <!-- <script src="./../end_user/js/data.js"></script> -->
    <script src="./../end_user/js/data.js"></script>
    <script src="./admin.js"></script>
    <script></script>
  </body>
</html>

// localStorage.clear(); // ==================== SIDEBAR ====================
const sidebar = document.querySelector(".sidebar"); const toggle =
document.querySelector(".toggle"); const dropdownMenus =
document.querySelectorAll(".menu-item.has-dropdown");
toggle.addEventListener("click", () => { const collapsed =
sidebar.classList.toggle("collapsed"); if (collapsed) closeAllSubmenus(); });
dropdownMenus.forEach((menu) => { const title =
menu.querySelector(".menu-title"); const submenu =
menu.querySelector(".submenu"); const icon =
menu.querySelector(".dropdown-icon"); title.addEventListener("click", () => { if
(sidebar.classList.contains("collapsed")) {
sidebar.classList.remove("collapsed"); openSubmenu(submenu, icon); return; }
const isOpen = submenu.classList.contains("show"); closeAllSubmenus(); if
(!isOpen) openSubmenu(submenu, icon); }); }); function closeAllSubmenus() {
dropdownMenus.forEach((menu) => { const submenu =
menu.querySelector(".submenu"); const icon =
menu.querySelector(".dropdown-icon"); submenu.classList.remove("show");
icon.classList.remove("rotate"); }); } function openSubmenu(submenu, icon) {
submenu.classList.add("show"); icon.classList.add("rotate"); } //
==================== QU·∫¢N L√ù LO·∫†I S·∫¢N PH·∫®M ==================== const typeModal
= document.getElementById("typeModal"); const typeForm =
document.getElementById("typeForm"); const typeTable =
document.querySelector("#typeTable tbody"); const btnAdd =
document.getElementById("openAddType"); const btnCancel =
document.getElementById("typeCancel"); const modalTitle =
document.getElementById("typeModalTitle"); const searchBox =
document.getElementById("searchType"); let editIndex = -1; // L·∫•y v√† l∆∞u d·ªØ li·ªáu
localStorage const getTypes = () =>
JSON.parse(localStorage.getItem("productTypes")) || []; const saveTypes = (data)
=> localStorage.setItem("productTypes", JSON.stringify(data)); // M·ªü modal th√™m
btnAdd.onclick = () => { modalTitle.textContent = "Th√™m lo·∫°i s·∫£n ph·∫©m";
typeForm.reset(); editIndex = -1; typeModal.style.display = "flex"; }; // H·ªßy
btnCancel.onclick = () => { typeModal.style.display = "none"; }; // L∆∞u
typeForm.onsubmit = (e) => { e.preventDefault(); const code =
document.getElementById("typeCode").value.trim(); const name =
document.getElementById("typeName").value.trim(); const desc =
document.getElementById("typeDesc").value.trim(); if (!code || !name) return
alert("Vui l√≤ng nh·∫≠p m√£ v√† t√™n lo·∫°i!"); let typeList = getTypes(); const data =
{ code, name, desc }; if (editIndex === -1) typeList.push(data); else
typeList[editIndex] = data; saveTypes(typeList); renderTypeTable();
typeModal.style.display = "none"; loadTypeOptions(); }; // Hi·ªÉn th·ªã b·∫£ng
function renderTypeTable(list = getTypes()) { typeTable.innerHTML = "";
list.forEach((t, i) => { const tr = document.createElement("tr"); tr.innerHTML =
`
<td>${t.code}</td>
<td>${t.name}</td>
<td>${t.desc || ""}</td>
<td>
  <button class="btn-edit" data-index="${i}">S·ª≠a</button>
  <button class="btn-delete" data-index="${i}">X√≥a</button>
</td>
`; typeTable.appendChild(tr); }); // S·ª≠a
document.querySelectorAll(".btn-edit").forEach((btn) => { btn.onclick = () => {
const typeList = getTypes(); editIndex = btn.dataset.index; const t =
typeList[editIndex]; document.getElementById("typeCode").value = t.code;
document.getElementById("typeName").value = t.name;
document.getElementById("typeDesc").value = t.desc; modalTitle.textContent =
"S·ª≠a lo·∫°i s·∫£n ph·∫©m"; typeModal.style.display = "flex"; }; }); // X√≥a
document.querySelectorAll(".btn-delete").forEach((btn) => { btn.onclick = () =>
{ const i = btn.dataset.index; if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a lo·∫°i n√†y
kh√¥ng?")) { const typeList = getTypes(); typeList.splice(i, 1);
saveTypes(typeList); renderTypeTable(); loadTypeOptions(); } }; }); } // T√¨m
ki·∫øm realtime searchBox.addEventListener("input", () => { const keyword =
searchBox.value.toLowerCase(); const typeList = getTypes(); const filtered =
typeList.filter( (t) => t.name.toLowerCase().includes(keyword) ||
t.code.toLowerCase().includes(keyword) ); renderTypeTable(filtered); }); //
==================== QU·∫¢N L√ù S·∫¢N PH·∫®M ==================== const getProducts =
() => JSON.parse(localStorage.getItem("products")) || []; const saveProducts =
(data) => localStorage.setItem("products", JSON.stringify(data)); const
productTable = document.querySelector("#productTable tbody"); const productModal
= document.querySelector("#productModal"); const openAddBtn =
document.querySelector("#openAddProduct"); const cancelModalBtn =
document.querySelector("#cancelModal"); const productForm =
document.querySelector("#productForm"); const picPreview =
document.querySelector(".pic-preview"); const imageInput =
document.querySelector("#productImage"); const typeSelect =
document.querySelector("#productType"); let editingId = null; // Load danh s√°ch
lo·∫°i cho select function loadTypeOptions() { const types = getTypes();
typeSelect.innerHTML = `
<option value="">-- Ch·ªçn lo·∫°i --</option>
` + types.map((t) => `
<option value="${t.name}">${t.name}</option>
`).join(""); } // Render b·∫£ng s·∫£n ph·∫©m function renderProducts(list =
getProducts()) { productTable.innerHTML = ""; list.forEach((p) => { const
statusClass = p.quantity === 0 ? "danger" : p.quantity < 5 ? "low" : "ok"; const
statusText = p.quantity === 0 ? "H·∫øt h√†ng" : p.quantity < 5 ? "G·∫ßn h·∫øt" : "C√≤n
h√†ng"; const row = document.createElement("tr"); row.innerHTML = `
<td><img src="${p.image}" alt="${p.name}" /></td>
<td>${p.name}</td>
<td>${p.type}</td>
<td>${p.costPrice.toLocaleString("vi-VN")} ƒë</td>
<td>${p.profitPercent}%</td>
<td>${p.price.toLocaleString("vi-VN")} ƒë</td>
<td>${p.quantity}</td>
<td><span class="status ${statusClass}">${statusText}</span></td>
<td>
  <button class="btn-edit" data-id="${p.id}">S·ª≠a</button>
  <button class="btn-delete" data-id="${p.id}">X√≥a</button>
</td>
`; productTable.appendChild(row); }); updateSummary(); } // C·∫≠p nh·∫≠t th·ªëng k√™
function updateSummary() { const products = getProducts(); const total =
products.length; const low = products.filter((p) => p.quantity > 0 && p.quantity
< 5).length; const out = products.filter((p) => p.quantity === 0).length;
document.querySelector("#totalProduct").textContent = total;
document.querySelector("#lowStock").textContent = `${low} s·∫£n ph·∫©m`;
document.querySelector("#outStock").textContent = `${out} s·∫£n ph·∫©m`; } // M·ªü
modal function openModal(editId = null) { editingId = editId;
productModal.style.display = "flex"; document.body.style.overflow = "hidden"; if
(editId) { const product = getProducts().find((p) => p.id === editId);
document.querySelector("#modalTitle").textContent = "S·ª≠a s·∫£n ph·∫©m";
document.querySelector("#productName").value = product.name;
document.querySelector("#productProfit").value = product.profitPercent;
document.querySelector("#productQuantity").value = product.quantity;
document.querySelector("#productType").value = product.type; picPreview.src =
product.image; } else { document.querySelector("#modalTitle").textContent =
"Th√™m s·∫£n ph·∫©m"; productForm.reset(); picPreview.src = ""; } } function
closeModal() { productModal.style.display = "none"; document.body.style.overflow
= "auto"; editingId = null; } // ·∫¢nh preview
imageInput.addEventListener("change", (e) => { const file = e.target.files[0];
if (file) { const reader = new FileReader(); reader.onload = () =>
(picPreview.src = reader.result); reader.readAsDataURL(file); } }); // L∆∞u s·∫£n
ph·∫©m productForm.addEventListener("submit", (e) => { e.preventDefault(); const
name = document.querySelector("#productName").value.trim(); const type =
document.querySelector("#productType").value; const costPrice = "-"; const
profitPercent = +document.querySelector("#productProfit").value; const price =
"-"; const quantity = +document.querySelector("#productQuantity").value; const
image = picPreview.src || "img/noimg.png"; let products = getProducts(); if
(editingId) { const idx = products.findIndex((p) => p.id === editingId);
products[idx] = { ...products[idx], name, type, costPrice, profitPercent, price,
quantity, image, }; } else { products.push({ id: Date.now(), name, type,
costPrice, profitPercent, price, quantity, image, }); } saveProducts(products);
renderProducts(); closeModal(); }); // C√°c s·ª± ki·ªán click
openAddBtn.addEventListener("click", () => openModal());
cancelModalBtn.addEventListener("click", closeModal);
productTable.addEventListener("click", (e) => { const id =
Number(e.target.dataset.id); if (e.target.classList.contains("btn-edit")) {
openModal(id); } else if (e.target.classList.contains("btn-delete")) { if
(confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a s·∫£n ph·∫©m n√†y kh√¥ng?")) { const products =
getProducts().filter((p) => p.id !== id); saveProducts(products);
renderProducts(); } } }); // L·ªçc v√† t√¨m ki·∫øm
document.querySelector("#searchProduct").addEventListener("input", () => { const
keyword = document.querySelector("#searchProduct").value.toLowerCase(); const
typeFilter = document.querySelector("#filterType").value; const products =
getProducts().filter((p) => { const matchKeyword =
p.name.toLowerCase().includes(keyword); const matchType = typeFilter ? p.type
=== typeFilter : true; return matchKeyword && matchType; });
renderProducts(products); }); // === KH·ªûI T·∫†O D·ªÆ LI·ªÜU M·∫™U === //
localStorage.removeItem("products"); // === KH·ªûI ƒê·ªòNG === renderTypeTable();
loadTypeOptions(); renderProducts(); // ============= kho =============== //
====== KH·ªûI T·∫†O D·ªÆ LI·ªÜU M·∫™U ====== // ======= KH·ªûI T·∫†O D·ªÆ LI·ªÜU ========= if
(!localStorage.getItem("imports")) localStorage.setItem("imports",
JSON.stringify([])); if (!localStorage.getItem("products"))
localStorage.setItem("products", JSON.stringify([])); const getData = (key) =>
JSON.parse(localStorage.getItem(key)) || []; const setData = (key, data) =>
localStorage.setItem(key, JSON.stringify(data)); const importTable =
document.querySelector("#importTable tbody"); const importModal =
document.getElementById("importModal"); const importForm =
document.getElementById("importForm"); const importModalTitle =
document.getElementById("importModalTitle"); const addImportProductBtn =
document.getElementById("addImportProduct"); const productImportList =
document.getElementById("productImportList"); let editingImportId = null; //
====== HI·ªÇN TH·ªä DANH S√ÅCH PHI·∫æU NH·∫¨P ====== function renderImports(list =
getData("imports")) { importTable.innerHTML = list .map( (imp) => `
<tr>
  <td>${imp.productName}</td>
  <td>${imp.date}</td>
  <td>${imp.price.toLocaleString()} ƒë</td>
  <td>${imp.quantity}</td>
  <td>${(imp.total || 0).toLocaleString()} ƒë</td>
  <td>${imp.status}</td>
  <td>
    ${ imp.status === "Ch∆∞a ho√†n th√†nh" ? `<button
      class="btn-save"
      onclick="completeImport('${imp.id}')"
    >
      Ho√†n th√†nh
    </button>
    <button class="btn-cancel" onclick="deleteImport('${imp.id}')">X√≥a</button>`
    : `<button class="btn-cancel" disabled>Ho√†n t·∫•t</button>` }
  </td>
</tr>
` ) .join(""); } renderImports(); // ====== M·ªû POPUP TH√äM PHI·∫æU NH·∫¨P ======
document.getElementById("openAddImport").addEventListener("click", () => {
editingImportId = null; importForm.reset(); productImportList.innerHTML = "";
const products = getData("products"); const selectOptions = products .map((p) =>
`
<option value="${p.id}">${p.name} (${p.type})</option>
`) .join(""); const row = document.createElement("div");
row.classList.add("import-product-item"); row.innerHTML = `
<select class="import-product">
  ${selectOptions}
</select>
<input
  type="number"
  placeholder="S·ªë l∆∞·ª£ng"
  class="import-quantity"
  min="1"
  value="1"
/>
<input
  type="number"
  placeholder="Gi√° nh·∫≠p"
  class="import-price"
  min="0"
  value="0"
/>
<button type="button" class="btn-remove">X</button>
`; row .querySelector(".btn-remove") .addEventListener("click", () =>
row.remove()); productImportList.appendChild(row);
document.getElementById("importDate").value = new Date() .toISOString()
.split("T")[0]; importModalTitle.textContent = "Th√™m phi·∫øu nh·∫≠p";
importModal.style.display = "flex"; }); // ====== H·ª¶Y ======
document.getElementById("cancelImport").addEventListener("click", () => {
importModal.style.display = "none"; }); // ====== L∆ØU PHI·∫æU NH·∫¨P ======
importForm.addEventListener("submit", (e) => { e.preventDefault(); const imports
= getData("imports"); const products = getData("products"); const date =
document.getElementById("importDate").value; const rows =
Array.from(document.querySelectorAll(".import-product-item")); if (rows.length
=== 0) { alert("Vui l√≤ng th√™m √≠t nh·∫•t 1 s·∫£n ph·∫©m."); return; }
rows.forEach((row) => { const productId =
Number(row.querySelector(".import-product").value); const quantity =
Number(row.querySelector(".import-quantity").value); const price =
Number(row.querySelector(".import-price").value); const product =
products.find((p) => p.id === productId); const productName = product ?
product.name : "Kh√¥ng r√µ"; const total = quantity * price; const newImport = {
id: "I" + Date.now() + Math.floor(Math.random() * 100), productId, productName,
date, quantity, price, total, status: "Ch∆∞a ho√†n th√†nh", };
imports.push(newImport); }); setData("imports", imports);
importModal.style.display = "none"; renderImports(); }); // ====== XO√Å PHI·∫æU
NH·∫¨P ====== function deleteImport(id) { if (!confirm("B·∫°n c√≥ ch·∫Øc mu·ªën xo√° phi·∫øu
nh·∫≠p n√†y?")) return; let imports = getData("imports").filter((i) => i.id !==
id); setData("imports", imports); renderImports(); } // ====== HO√ÄN TH√ÄNH PHI·∫æU
NH·∫¨P ====== function completeImport(id) { const imports = getData("imports");
const products = getData("products"); const imp = imports.find((i) => i.id ===
id); if (!imp || imp.status === "ƒê√£ ho√†n th√†nh") return; const prod =
products.find((p) => p.id === imp.productId); if (prod) { prod.quantity =
(prod.quantity || 0) + imp.quantity; prod.costPrice = imp.price; prod.price =
imp.price * (1 + prod.profitPercent / 100); } imp.status = "ƒê√£ ho√†n th√†nh";
setData("imports", imports); setData("products", products); renderImports();
renderProducts(); renderTypeTable(); updateSummary(); } // ====== T√åM KI·∫æM
REALTIME ======
document.getElementById("searchImport").addEventListener("input", () => { const
keyword = document.getElementById("searchImport").value.toLowerCase(); const
filtered = getData("imports").filter((i) =>
i.productName.toLowerCase().includes(keyword) ); renderImports(filtered); });

<section id="analysis" class="page analysis">
  <div class="analysis-header">
    <h2>Ph√¢n t√≠ch ho·∫°t ƒë·ªông</h2>
    <select id="analysis-period">
      <option value="week">7 ng√†y qua</option>
      <option value="month">Th√°ng n√†y</option>
      <option value="year">NƒÉm nay</option>
    </select>
  </div>

  <div class="analysis-summary">
    <div class="analysis-card up">
      <h3>Doanh thu</h3>
      <p>72.5 tri·ªáu ‚Ç´</p>
      <span>+12% so v·ªõi tu·∫ßn tr∆∞·ªõc</span>
    </div>

    <div class="analysis-card down">
      <h3>L∆∞·ª£t truy c·∫≠p</h3>
      <p>8,430</p>
      <span>-5% so v·ªõi tu·∫ßn tr∆∞·ªõc</span>
    </div>

    <div class="analysis-card up">
      <h3>Kh√°ch h√†ng m·ªõi</h3>
      <p>248</p>
      <span>+8% so v·ªõi tu·∫ßn tr∆∞·ªõc</span>
    </div>
  </div>

  <div class="trend-table">
    <h3>Top danh m·ª•c b√°n ch·∫°y</h3>
    <table>
      <thead>
        <tr>
          <th>Danh m·ª•c</th>
          <th>S·ªë l∆∞·ª£ng b√°n</th>
          <th>Doanh thu</th>
          <th>TƒÉng tr∆∞·ªüng</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>√Åo s∆° mi</td>
          <td>320</td>
          <td>15.2 tri·ªáu ‚Ç´</td>
          <td class="up">+10%</td>
        </tr>
        <tr>
          <td>Qu·∫ßn jeans</td>
          <td>280</td>
          <td>12.7 tri·ªáu ‚Ç´</td>
          <td class="up">+7%</td>
        </tr>
        <tr>
          <td>Ph·ª• ki·ªán</td>
          <td>190</td>
          <td>6.8 tri·ªáu ‚Ç´</td>
          <td class="down">-3%</td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- üü® B·∫£ng chi ti·∫øt ho·∫∑c ‚Äúinsight cards‚Äù -->
  <div class="trend-table">
    <h3>Hi·ªáu su·∫•t theo qu√Ω</h3>
    <table class="trend-table">
      <thead>
        <tr>
          <th>Qu√Ω</th>
          <th>Doanh thu</th>
          <th>TƒÉng tr∆∞·ªüng</th>
          <th>Kh√°ch h√†ng m·ªõi</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Q1</td>
          <td>180 tri·ªáu ‚Ç´</td>
          <td class="up">+9%</td>
          <td>523</td>
        </tr>
        <tr>
          <td>Q2</td>
          <td>195 tri·ªáu ‚Ç´</td>
          <td class="up">+8%</td>
          <td>574</td>
        </tr>
        <tr>
          <td>Q3</td>
          <td>215 tri·ªáu ‚Ç´</td>
          <td class="up">+10%</td>
          <td>648</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
